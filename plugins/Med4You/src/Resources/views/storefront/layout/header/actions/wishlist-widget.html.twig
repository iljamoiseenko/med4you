{% sw_extends '@Storefront/storefront/layout/header/actions/wishlist-widget.html.twig' %}

{% block layout_header_actions_wishlist_widget %}
    {% set showCounter = showCounter ?? true %}

    <div class="header-wishlist-block">
        {% if showCounter %}
            <div class="header-icons-block">
                <img class="header-wishlist-icon" src="{{ asset('bundles/med4you/wishlist.svg', 'asset') }}" alt="wishlist">
                <span class="header-wishlist-text">Wishlist</span>
            </div>
        {% endif %}
    </div>
    

    {% set wishlistStorageOptions = {
        listPath: path('frontend.wishlist.product.list'),
        mergePath: path('frontend.wishlist.product.merge'),
        tokenMergePath: sw_csrf('frontend.wishlist.product.merge', {'mode': 'token'}),
        pageletPath: path('frontend.wishlist.product.merge.pagelet'),
        tokenPageletPath: sw_csrf('frontend.wishlist.product.merge.pagelet', {'mode': 'token'}),
    } %}

    {% set wishlistWidgetOptions = { showCounter: showCounter } %}

    <span class="badge {{ bgClass }}-primary header-wishlist-badge"
          id="wishlist-basket"
          data-wishlist-storage="true"
          data-wishlist-storage-options="{{ wishlistStorageOptions|json_encode }}"
          data-wishlist-widget="true"
          data-wishlist-widget-options="{{ wishlistWidgetOptions|json_encode }}"
    ></span>

{% endblock %}
